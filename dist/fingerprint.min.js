/**
 * fingerprintjs 2014-09-16 - v0.5.4
 * Anonymous browser fingerprint
 * https://github.com/georapbox/fingerprintjs
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
!function(a,b,c){"use strict";"undefined"!=typeof module&&module.exports?module.exports=c():"function"==typeof define&&define.amd?define(c):b[a]=c()}("Fingerprint",this,function(){"use strict";var a=function(a){var b,c;b=Array.prototype.forEach,c=Array.prototype.map,this.each=function(a,c,d){var e,f,g;if(null!==a)if(b&&a.forEach===b)a.forEach(c,d);else if(a.length===+a.length){for(e=0,f=a.length;f>e;e+=1)if(c.call(d,a[e],e,a)==={})return}else for(g in a)if(a.hasOwnProperty(g)&&c.call(d,a[g],g,a)==={})return},this.map=function(a,b,d){var e=[];return null===a||"undefined"==typeof a?e:c&&a.map===c?a.map(b,d):(this.each(a,function(a,c,f){e[e.length]=b.call(d,a,c,f)}),e)},"object"==typeof a?(this.hasher=a.hasher,this.screenResolution=a.screenResolution,this.canvas=a.canvas,this.webgl=a.webgl,this.ieActivex=a.ieActivex):"function"==typeof a&&(this.hasher=a),this.debug={logs:!0,log:function(a,b){var c=this;return c.logs===!0&&window.console?(c.log=function(a,b){switch(b){case 0:console.log(a);break;case 1:console.info(a);break;case 2:console.error(a);break;default:console.log(a)}return c},c.log(a,b),c):(c.log=function(){return c},c.log(),c)}}};return a.prototype={keys:[],navKeys:[],screenKeys:[],dbKeys:[],pluginsKeys:[],canvasKeys:[],webglKeys:[],uncategorisedKeys:[],set:function(){var a;return this.keys=[],this.navKeys=[],this.screenKeys=[],this.dbKeys=[],this.pluginsKeys=[],this.canvasKeys=[],this.webglKeys=[],this.uncategorisedKeys=[],this.navKeys.push(navigator.userAgent),this.navKeys.push(navigator.language),this.navKeys.push(navigator.cpuClass),this.navKeys.push(navigator.platform),this.navKeys.push(navigator.doNotTrack),this.screenKeys.push(screen.colorDepth),this.screenResolution&&(a=this.getScreenResolution(),"undefined"!=typeof a&&this.screenKeys.push(a.join("x"))),this.dbKeys.push(this.hasSessionStorage()),this.dbKeys.push(this.hasLocalStorage()),this.dbKeys.push(!!window.indexedDB),this.dbKeys.push(typeof window.openDatabase),this.pluginsKeys.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&this.canvasKeys.push(this.getCanvasFingerprint()),this.webgl&&this.webglKeys.push(this.getWebGlFingerptint()),this.uncategorisedKeys.push((new Date).getTimezoneOffset()),this.uncategorisedKeys.push(document.body?typeof document.body.addBehavior:"undefined"),this},get:function(a){if("object"==typeof a&&"undefined"!=typeof a&&a instanceof Array){var b,c,d={navigator:this.navKeys,screen:this.screenKeys,db:this.dbKeys,plugins:this.pluginsKeys,canvas:this.canvasKeys,webgl:this.webglKeys,uncategorised:this.uncategorisedKeys},e=0;for(this.keys=[],b=a.length;b>e;e+=1)c=a[e],d.hasOwnProperty(c)&&(this.keys=this.keys.concat(d[c]))}else this.keys=[].concat(this.navKeys,this.screenKeys,this.dbKeys,this.pluginsKeys,this.canvasKeys,this.webglKeys,this.uncategorisedKeys);return this.keys},generateHash:function(a){return"undefined"!=typeof a&&null!==a?this.hasher?this.hasher(this.keys.join("###"),31):this.murmurhash3_32_gc(this.keys.join("###"),31):void this.debug.log('Invalid number of parameters passed. "generateHash" requires one parameter to work properly. Pass the "get" function as parameter.',2)},murmurhash3_32_gc:function(a,b){var c,d,e,f,g,h,i,j;for(c=3&a.length,d=a.length-c,e=b,g=3432918353,h=461845907,j=0;d>j;)i=255&a.charCodeAt(j)|(255&a.charCodeAt(++j))<<8|(255&a.charCodeAt(++j))<<16|(255&a.charCodeAt(++j))<<24,++j,i=(65535&i)*g+(((i>>>16)*g&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(65535&i)*h+(((i>>>16)*h&65535)<<16)&4294967295,e^=i,e=e<<13|e>>>19,f=5*(65535&e)+((5*(e>>>16)&65535)<<16)&4294967295,e=(65535&f)+27492+(((f>>>16)+58964&65535)<<16);switch(i=0,c){case 3:i^=(255&a.charCodeAt(j+2))<<16;break;case 2:i^=(255&a.charCodeAt(j+1))<<8;break;case 1:i^=255&a.charCodeAt(j),i=(65535&i)*g+(((i>>>16)*g&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(65535&i)*h+(((i>>>16)*h&65535)<<16)&4294967295,e^=i}return e^=a.length,e^=e>>>16,e=2246822507*(65535&e)+((2246822507*(e>>>16)&65535)<<16)&4294967295,e^=e>>>13,e=3266489909*(65535&e)+((3266489909*(e>>>16)&65535)<<16)&4294967295,e^=e>>>16,e>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(a){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(a){return!0}},isCanvasSupported:function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},isWebGlSupported:function(a){if(window.WebGLRenderingContext){var b=document.createElement("canvas"),c=["webgl","experimental-webgl","moz-webgl","webkit-3d"],d=!1,e=0;for(e;4>e;e++)try{if(d=b.getContext(c[e]),d&&"function"==typeof d.getParameter)return a?{name:c[e],gl:d}:!0}catch(f){}return!1}return!1},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName?!0:"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?!0:!1},getPluginsString:function(){return this.isIE()&&this.ieActivex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(a){var b=this.map(a,function(a){return[a.type,a.suffixes].join("~")}).join(",");return[a.name,a.description,b].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){var a=["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"];return this.map(a,function(a){try{{new ActiveXObject(a)}return a}catch(b){return null}}).join(";")}return""},getScreenResolution:function(){return[screen.height,screen.width]},getCanvasFingerprint:function(){var a=document.createElement("canvas"),b=a.getContext("2d"),c="https://github.com/georapbox";return b.textBaseline="top",b.font="14px 'Arial'",b.textBaseline="alphabetic",b.fillStyle="#f60",b.fillRect(125,1,62,20),b.fillStyle="#069",b.fillText(c,2,15),b.fillStyle="rgba(102, 204, 0, 0.7)",b.fillText(c,4,17),a.toDataURL()},getWebGlFingerptint:function(){var a=this.isWebGlSupported(!0),b="";if(a){var c,d=a.gl,e=a.name,f=d.getParameter(d.VERSION),g=d.getParameter(d.SHADING_LANGUAGE_VERSION),h=d.getParameter(d.VENDOR),i=d.getParameter(d.RENDERER),j="",k=[];try{k=d.getSupportedExtensions()}catch(l){}var m=k.length;if(m)for(var n=0;m>n;n++)j.length&&(j+="; "),j+=k[n];var l=d.getExtension("EXT_texture_filter_anisotropic")||d.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||d.getExtension("MOZ_EXT_texture_filter_anisotropic");return l?(c=d.getParameter(l.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===c&&(c=2)):c="Not available",b+=e+"; "+f+"; "+g+"; "+h+"; "+i+"; "+j+"; "+c}return b="undefined"}},a});